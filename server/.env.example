# Share-server (.env)
# Copy to server/.env and tweak values.

# Listen address
EDS_SHARE_ADDR=":8080"

# DB
EDS_SHARE_DB_DRIVER="sqlite"
EDS_SHARE_DB="./data/shares.db"
# For postgres:
# EDS_SHARE_DB_DRIVER="postgres"
# EDS_SHARE_DB_DSN="postgres://localhost:5432/eendraadschema?sslmode=disable"
# Optionally inject credentials separately (URL-style DSN only):
# EDS_SHARE_DB_USER="user"
# EDS_SHARE_DB_PASSWORD="pass"

# Static frontend (optional)
EDS_SHARE_STATIC_DIR=""

# Legacy password mode (used only when OIDC is NOT enabled)
EDS_SHARE_PASSWORD="ChangeMe123!"

# CORS (only needed if not using Vite proxy)
EDS_SHARE_ALLOWED_ORIGIN=""

# OIDC (enable to lock share write features behind login)
# Example issuer:
# https://auth.example.com/realms/myrealm
EDS_SHARE_OIDC_ISSUER_URL=""
EDS_SHARE_OIDC_CLIENT_ID=""
# Optional comma-separated audiences (defaults to client id)
EDS_SHARE_OIDC_AUDIENCE=""

# Frontend public runtime config (optional)
# The share-server serves /runtime-config.js which is read by the browser.
# These variables are safe to expose (non-secret) and enable token renewal.
#
# Silent renewal (iframe). Use the same SPA with a flag:
#   https://app.example.com/?silent-renew=1
VITE_OIDC_SILENT_REDIRECT_URI=""

# Optional: renew this many seconds before expiry (default 30)
VITE_OIDC_RENEW_SKEW_SECONDS="30"

# Optional: prefer refresh-token based renewal if your IdP supports it for SPAs
# VITE_OIDC_USE_REFRESH_TOKEN="true"
# VITE_OIDC_SCOPE="openid profile email offline_access"

# Optional: if you want to load a specific dotenv file
# EDS_SHARE_ENV_FILE="./.env"
